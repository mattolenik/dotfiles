# shellcheck shell=zsh

neovim() {
  if command -v &>/dev/null tmux && command -v &>/dev/null nvr; then
    TMUX_WINDOW_ID=$(tmux display-message -p '#I')
    export NVIM_LISTEN_ADDRESS="/tmp/nvimsocket_tmux_window_$TMUX_WINDOW_ID"
    nvr --remote -s "$@"
  else
    echo "neovim function requires tmux and nvr" && return 1
  fi
}
